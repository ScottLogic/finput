!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Finput=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(b,c,d){(function(){function b(a){this._value=a}function d(a,b,c,d){var e,f,g=Math.pow(10,b);return f=(c(a*g)/g).toFixed(b),d&&(e=new RegExp("0{1,"+d+"}$"),f=f.replace(e,"")),f}function e(a,b,c){var d;return d=b.indexOf("$")>-1?g(a,b,c):b.indexOf("%")>-1?h(a,b,c):b.indexOf(":")>-1?i(a,b):k(a._value,b,c)}function f(a,b){var c,d,e,f,g,h=b,i=["KB","MB","GB","TB","PB","EB","ZB","YB"],k=!1;if(b.indexOf(":")>-1)a._value=j(b);else if(b===s)a._value=0;else{for("."!==q[r].delimiters.decimal&&(b=b.replace(/\./g,"").replace(q[r].delimiters.decimal,".")),c=new RegExp("[^a-zA-Z]"+q[r].abbreviations.thousand+"(?:\\)|(\\"+q[r].currency.symbol+")?(?:\\))?)?$"),d=new RegExp("[^a-zA-Z]"+q[r].abbreviations.million+"(?:\\)|(\\"+q[r].currency.symbol+")?(?:\\))?)?$"),e=new RegExp("[^a-zA-Z]"+q[r].abbreviations.billion+"(?:\\)|(\\"+q[r].currency.symbol+")?(?:\\))?)?$"),f=new RegExp("[^a-zA-Z]"+q[r].abbreviations.trillion+"(?:\\)|(\\"+q[r].currency.symbol+")?(?:\\))?)?$"),g=0;g<=i.length&&!(k=b.indexOf(i[g])>-1?Math.pow(1024,g+1):!1);g++);a._value=(k?k:1)*(h.match(c)?Math.pow(10,3):1)*(h.match(d)?Math.pow(10,6):1)*(h.match(e)?Math.pow(10,9):1)*(h.match(f)?Math.pow(10,12):1)*(b.indexOf("%")>-1?.01:1)*((b.split("-").length+Math.min(b.split("(").length-1,b.split(")").length-1))%2?1:-1)*Number(b.replace(/[^0-9\.]+/g,"")),a._value=k?Math.ceil(a._value):a._value}return a._value}function g(a,b,c){var d,e,f=b.indexOf("$"),g=b.indexOf("("),h=b.indexOf("-"),i="";return b.indexOf(" $")>-1?(i=" ",b=b.replace(" $","")):b.indexOf("$ ")>-1?(i=" ",b=b.replace("$ ","")):b=b.replace("$",""),e=k(a._value,b,c),1>=f?e.indexOf("(")>-1||e.indexOf("-")>-1?(e=e.split(""),d=1,(g>f||h>f)&&(d=0),e.splice(d,0,q[r].currency.symbol+i),e=e.join("")):e=q[r].currency.symbol+i+e:e.indexOf(")")>-1?(e=e.split(""),e.splice(-1,0,i+q[r].currency.symbol),e=e.join("")):e=e+i+q[r].currency.symbol,e}function h(a,b,c){var d,e="",f=100*a._value;return b.indexOf(" %")>-1?(e=" ",b=b.replace(" %","")):b=b.replace("%",""),d=k(f,b,c),d.indexOf(")")>-1?(d=d.split(""),d.splice(-1,0,e+"%"),d=d.join("")):d=d+e+"%",d}function i(a){var b=Math.floor(a._value/60/60),c=Math.floor((a._value-60*b*60)/60),d=Math.round(a._value-60*b*60-60*c);return b+":"+(10>c?"0"+c:c)+":"+(10>d?"0"+d:d)}function j(a){var b=a.split(":"),c=0;return 3===b.length?(c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2])):2===b.length&&(c+=60*Number(b[0]),c+=Number(b[1])),Number(c)}function k(a,b,c){var e,f,g,h,i,j,k=!1,l=!1,m=!1,n="",o=!1,p=!1,t=!1,u=!1,v=!1,w="",x="",y=Math.abs(a),z=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],A="",B=!1;if(0===a&&null!==s)return s;if(b.indexOf("(")>-1?(k=!0,b=b.slice(1,-1)):b.indexOf("+")>-1&&(l=!0,b=b.replace(/\+/g,"")),b.indexOf("a")>-1&&(o=b.indexOf("aK")>=0,p=b.indexOf("aM")>=0,t=b.indexOf("aB")>=0,u=b.indexOf("aT")>=0,v=o||p||t||u,b.indexOf(" a")>-1?(n=" ",b=b.replace(" a","")):b=b.replace("a",""),y>=Math.pow(10,12)&&!v||u?(n+=q[r].abbreviations.trillion,a/=Math.pow(10,12)):y<Math.pow(10,12)&&y>=Math.pow(10,9)&&!v||t?(n+=q[r].abbreviations.billion,a/=Math.pow(10,9)):y<Math.pow(10,9)&&y>=Math.pow(10,6)&&!v||p?(n+=q[r].abbreviations.million,a/=Math.pow(10,6)):(y<Math.pow(10,6)&&y>=Math.pow(10,3)&&!v||o)&&(n+=q[r].abbreviations.thousand,a/=Math.pow(10,3))),b.indexOf("b")>-1)for(b.indexOf(" b")>-1?(w=" ",b=b.replace(" b","")):b=b.replace("b",""),g=0;g<=z.length;g++)if(e=Math.pow(1024,g),f=Math.pow(1024,g+1),a>=e&&f>a){w+=z[g],e>0&&(a/=e);break}return b.indexOf("o")>-1&&(b.indexOf(" o")>-1?(x=" ",b=b.replace(" o","")):b=b.replace("o",""),x+=q[r].ordinal(a)),b.indexOf("[.]")>-1&&(m=!0,b=b.replace("[.]",".")),h=a.toString().split(".")[0],i=b.split(".")[1],j=b.indexOf(","),i?(i.indexOf("[")>-1?(i=i.replace("]",""),i=i.split("["),A=d(a,i[0].length+i[1].length,c,i[1].length)):A=d(a,i.length,c),h=A.split(".")[0],A=A.split(".")[1].length?q[r].delimiters.decimal+A.split(".")[1]:"",m&&0===Number(A.slice(1))&&(A="")):h=d(a,null,c),h.indexOf("-")>-1&&(h=h.slice(1),B=!0),j>-1&&(h=h.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+q[r].delimiters.thousands)),0===b.indexOf(".")&&(h=""),(k&&B?"(":"")+(!k&&B?"-":"")+(!B&&l?"+":"")+h+A+(x?x:"")+(n?n:"")+(w?w:"")+(k&&B?")":"")}function l(a,b){q[a]=b}function m(a){var b=a.toString().split(".");return b.length<2?1:Math.pow(10,b[1].length)}function n(){var a=Array.prototype.slice.call(arguments);return a.reduce(function(a,b){var c=m(a),d=m(b);return c>d?c:d},-(1/0))}var o,p="1.5.3",q={},r="en",s=null,t="0,0",u="undefined"!=typeof c&&c.exports;o=function(a){return o.isNumeral(a)?a=a.value():0===a||"undefined"==typeof a?a=0:Number(a)||(a=o.fn.unformat(a)),new b(Number(a))},o.version=p,o.isNumeral=function(a){return a instanceof b},o.language=function(a,b){if(!a)return r;if(a&&!b){if(!q[a])throw new Error("Unknown language : "+a);r=a}return(b||!q[a])&&l(a,b),o},o.languageData=function(a){if(!a)return q[r];if(!q[a])throw new Error("Unknown language : "+a);return q[a]},o.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),o.zeroFormat=function(a){s="string"==typeof a?a:null},o.defaultFormat=function(a){t="string"==typeof a?a:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var c,d,e=this.length>>>0,f=!1;for(1<arguments.length&&(d=b,f=!0),c=0;e>c;++c)this.hasOwnProperty(c)&&(f?d=a(d,this[c],c,this):(d=this[c],f=!0));if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),o.fn=b.prototype={clone:function(){return o(this)},format:function(a,b){return e(this,a?a:t,void 0!==b?b:Math.round)},unformat:function(a){return"[object Number]"===Object.prototype.toString.call(a)?a:f(this,a?a:t)},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){return this._value=Number(a),this},add:function(a){function b(a,b,d,e){return a+c*b}var c=n.call(null,this._value,a);return this._value=[this._value,a].reduce(b,0)/c,this},subtract:function(a){function b(a,b,d,e){return a-c*b}var c=n.call(null,this._value,a);return this._value=[a].reduce(b,this._value*c)/c,this},multiply:function(a){function b(a,b,c,d){var e=n(a,b);return a*e*(b*e)/(e*e)}return this._value=[this._value,a].reduce(b,1),this},divide:function(a){function b(a,b,c,d){var e=n(a,b);return a*e/(b*e)}return this._value=[this._value,a].reduce(b),this},difference:function(a){return Math.abs(o(this._value).subtract(a).value())}},u&&(c.exports=o),"undefined"==typeof ender&&(this.numeral=o),"function"==typeof a&&a.amd&&a([],function(){return o})}).call(this)},{}],2:[function(a,b,c){"use strict";c.CODES={NUMBERS:function(){var a=[],b=void 0,c=void 0;for(b=48,c=96;58>b;b++,c++)a.push({key:b,"char":b}),a.push({key:c,"char":b});return a}(),COMMA:{key:188,"char":44},MINUS:{key:189,"char":45},NUM_MINUS:{key:109,"char":45},DOT:{key:190,"char":46},NUMPAD_DOT:{key:110,"char":46},LEFT_ARROW:{key:37},RIGHT_ARROW:{key:39},UP_ARROW:{key:38},DOWN_ARROW:{key:40},BACKSPACE:{key:8},DELETE:{key:46},REDO:{key:89,"char":121},UNDO:{key:90,"char":122}},c.ACTION_TYPES={NUMBER:"NUMBER",SHORTCUT:"SHORTCUT",DECIMAL:"DECIMAL",DELIMITER:"DELIMITER",MINUS:"MINUS",UNKNOWN:"UNKNOWN",HORIZONTAL_ARROW:"HORIZONTAL_ARROW",VERTICAL_ARROW:"VERTICAL_ARROW",BACKSPACE:"BACKSPACE",DELETE:"DELETE",UNDO:"UNDO",REDO:"REDO"},c.DRAG_STATES={NONE:"NONE",INTERNAL:"INTERNAL",EXTERNAL:"EXTERNAL"}},{}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(c,"__esModule",{value:!0});var g=a("numeral"),h=d(g),i=a("./keyHandlers"),j=d(i),k=a("./helpers"),l=d(k),m=a("./valueHistory"),n=d(m),o=a("./constants"),p={en:{shortcuts:{k:3,m:6,b:9},delimiter:[o.CODES.COMMA],decimal:[o.CODES.DOT,o.CODES.NUMPAD_DOT]}},q={format:"0,0.00",lang:"en",maxValue:1e13,minValue:-1e13,maxLength:15,valueStep:1,droppableClass:"finput-droppable"},r=function(){function a(b,c){var d=this;e(this,a),this._element=b,this._options=Object.assign(q,c),this._languageData=p[this.options.lang],this._actionTypes=this.createActionTypes(),this._history=new n["default"],h["default"].defaultFormat(this.options.format),this.element.addEventListener("blur",function(a){return d.onFocusout(a)}),this.element.addEventListener("focus",function(a){return d.onFocusin(a)}),this.element.addEventListener("drop",function(a){return d.onDrop(a)}),this.element.addEventListener("paste",function(a){return d.onPaste(a)}),this.element.addEventListener("keypress",function(a){return d.onKeypress(a)}),this.element.addEventListener("keydown",function(a){return d.onKeydown(a)}),this.element.addEventListener("input",function(a){return d.onInput(a)}),document.addEventListener("dragstart",function(a){return d.onDragstart(a)}),document.addEventListener("dragend",function(a){return d.onDragend(a)}),this.element.addEventListener("dragenter",function(a){return d.onDragenter(a)}),this.element.addEventListener("dragleave",function(a){return d.onDragleave(a)})}return f(a,[{key:"createActionTypes",value:function(){return[{name:o.ACTION_TYPES.NUMBER,codes:o.CODES.NUMBERS},{name:o.ACTION_TYPES.MINUS,codes:[o.CODES.MINUS,o.CODES.NUM_MINUS]},{name:o.ACTION_TYPES.DECIMAL,codes:this.languageData.decimal},{name:o.ACTION_TYPES.DELIMITER,codes:this.languageData.delimiter},{name:o.ACTION_TYPES.SHORTCUT,codes:Object.keys(this.languageData.shortcuts).map(function(a){var b=a.toUpperCase().charCodeAt(0);return{key:b,code:b}})},{name:o.ACTION_TYPES.BACKSPACE,code:o.CODES.BACKSPACE},{name:o.ACTION_TYPES.DELETE,code:o.CODES.DELETE},{name:o.ACTION_TYPES.HORIZONTAL_ARROW,codes:[o.CODES.RIGHT_ARROW,o.CODES.LEFT_ARROW]},{name:o.ACTION_TYPES.VERTICAL_ARROW,codes:[o.CODES.UP_ARROW,o.CODES.DOWN_ARROW]},{name:o.ACTION_TYPES.UNDO,code:o.CODES.UNDO,ctrl:!0},{name:o.ACTION_TYPES.REDO,code:o.CODES.REDO,ctrl:!0}]}},{key:"getActionType",value:function(a){var b=a.which,c=!0,d=!1,e=void 0;try{for(var f,g=this.actionTypes[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value,i=!1,j=void 0;if(h.code)i=h.code.key===b,j=h.code;else if(h.codes){var k=h.codes.map(function(a){return a.key}).indexOf(b);i=k>-1,j=h.codes[k]}if(i&&(h.ctrl?a.ctrlKey:!0))return{name:h.name,codes:j}}}catch(l){d=!0,e=l}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}return{name:o.ACTION_TYPES.UNKNOWN}}},{key:"checkValueMagnitude",value:function(a){var b=(0,h["default"])().unformat(a);return b<=this.options.maxValue&&b>=this.options.minValue}},{key:"checkValueLength",value:function(a){var b=(0,h["default"])().unformat(a);return b.toString().length<=this.options.maxLength}},{key:"checkValueSizing",value:function(a){return this.checkValueLength(a)&&this.checkValueMagnitude(a)}},{key:"setValue",value:function(a){var b=l["default"].fullFormat(a,this.options.format,this.options.currency),c=this.checkValueSizing(b),d=b&&c;return d&&(this.element.value=b,this.history.addValue(b)),d}},{key:"onFocusout",value:function(a){console.log("Focus OUT event",a);this.setValue(this.element.value)}},{key:"onFocusin",value:function(a){console.log("Focus IN event",a),this.element.selectionStart=0,this.element.selectionEnd=this.element.value.length}},{key:"onDrop",value:function(a){switch(console.log("Drop event",a),this.dragState){case o.DRAG_STATES.INTERNAL:break;case o.DRAG_STATES.EXTERNAL:this.setValue(a.dataTransfer.getData("text"));a.preventDefault()}}},{key:"onDragstart",value:function(a){this.dragState=a.target===this.element?o.DRAG_STATES.INTERNAL:o.DRAG_STATES.EXTERNAL,this.dragState===o.DRAG_STATES.EXTERNAL&&this.element.classList.add(this.options.droppableClass),console.log("Drag STARTED",this.dragState,a)}},{key:"onDragend",value:function(a){console.log("Drag ENDED",this.dragState,a),this.dragState=o.DRAG_STATES.NONE,this.element.classList.remove(this.options.droppableClass)}},{key:"onDragenter",value:function(a){console.log("Drag ENTER",this.dragState,a)}},{key:"onDragleave",value:function(a){console.log("Drag LEAVE",this.dragState,a),this.dragState===o.DRAG_STATES.EXTERNAL&&(this.element.selectionStart=this.element.value.length)}},{key:"onPaste",value:function(a){console.log("Paste event",a);var b=a.clipboardData.getData("text"),c=l["default"].editString(this.element.value,b,this.element.selectionStart,this.element.selectionEnd);this.setValue(c);a.preventDefault()}},{key:"onKeypress",value:function(a){console.log("keypress",a)}},{key:"onKeydown",value:function(a){console.log("keydown",a);var b={event:a,code:a.which||a.keyCode,caretStart:this.element.selectionStart,caretEnd:this.element.selectionEnd,currentValue:this.element.value,newValue:this.element.value},c=this.getActionType(a),d=c.codes;switch(b["char"]=d&&String.fromCharCode(d["char"]),c.name){case o.ACTION_TYPES.NUMBER:j["default"].onNumber(b);break;case o.ACTION_TYPES.DECIMAL:j["default"].onDecimal(b,this.languageData);break;case o.ACTION_TYPES.MINUS:j["default"].onMinus(b);break;case o.ACTION_TYPES.SHORTCUT:j["default"].onShortcut(b,this.languageData);break;case o.ACTION_TYPES.HORIZONTAL_ARROW:break;case o.ACTION_TYPES.VERTICAL_ARROW:j["default"].onVerticalArrow(b,this.options.valueStep);break;case o.ACTION_TYPES.BACKSPACE:j["default"].onBackspace(b);break;case o.ACTION_TYPES.DELETE:j["default"].onDelete(b,this.languageData);break;case o.ACTION_TYPES.UNDO:return void j["default"].onUndo(this,a);case o.ACTION_TYPES.REDO:return void j["default"].onRedo(this,a);default:return console.log("UNKNOWN"),void(a.ctrlKey||a.preventDefault())}var e=l["default"].partialFormat(b.newValue,this.options.currency),f=this.element.value,g=this.checkValueSizing(e);if(this.element.value=g?e:this.element.value,g){var h=l["default"].calculateOffset(f,this.element.value,b.caretStart,this.options.currency,this.languageData),i=b.caretStart+h;this.element.setSelectionRange(i,i),this.history.addValue(e)}}},{key:"onInput",value:function(a){console.log("on INPUT",a);this.setValue(this.element.value)}},{key:"element",get:function(){return this._element}},{key:"options",get:function(){return this._options}},{key:"value",get:function(){return(0,h["default"])().unformat(this.element.value)}},{key:"formattedValue",get:function(){return(0,h["default"])().unformat(this.element.value)}},{key:"languageData",get:function(){return this._languageData}},{key:"actionTypes",get:function(){return this._actionTypes}},{key:"dragState",get:function(){return this._dragState},set:function(a){this._dragState=a}},{key:"history",get:function(){return this._history}}]),a}();c["default"]=r,b.exports=c["default"]},{"./constants":2,"./helpers":4,"./keyHandlers":5,"./valueHistory":6,numeral:1}],4:[function(a,b,c){"use strict";var d=a("./constants");c.editString=function(a,b,c){var d=arguments.length<=3||void 0===arguments[3]?c:arguments[3],e=a.slice(0,c),f=a.slice(d,a.length);return""+e+b+f},c.fullFormat=function(a,b,c){var d=c?""+c+b:b;if(a){if(1===a.length)return a>=0&&9>=a?numeral(a).format(d):null;var e=numeral(a);return isNaN(e.value())||!Number.isFinite(e.value())?null:e.format(d)}return null},c.partialFormat=function(a,b){var c=a.replace(new RegExp("["+(b||"")+",]","g"),""),e=c.indexOf(".")>-1?c.indexOf(".")-1:c.length-1,f=c[0]===String.fromCharCode(d.CODES.MINUS["char"])?1:0,g=e,h=1;for(h;g>f;g--,h++)h%3===0&&(c=this.editString(c,",",g));return""+(b&&c?b:"")+c},c.calculateOffset=function(a,b,c,d,e){var f=String.fromCharCode(e.delimiter[0]["char"]),g=void 0,h=void 0;for(g=0,h=0;c>g;g++,h++)(a[g]===f||a[g]===d)&&g++,(b[h]===f||b[h]===d)&&h++;return h-g}},{"./constants":2}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a("./constants"),f=a("./helpers"),g=d(f);b.exports={onNumber:function(a){var b=!(a.currentValue[0]===String.fromCharCode(e.CODES.MINUS["char"])&&0===a.caretStart&&0===a.caretEnd);b&&(a.newValue=g["default"].editString(a.currentValue,a["char"],a.caretStart,a.caretEnd),a.caretStart+=1),a.event.preventDefault()},onMinus:function(a){var b=0===a.caretStart&&(a.currentValue[0]!==String.fromCharCode(e.CODES.MINUS["char"])||a.caretEnd>0);b&&(a.newValue=g["default"].editString(a.currentValue,String.fromCharCode(e.CODES.MINUS["char"]),a.caretStart,a.caretEnd),a.caretStart+=1),a.event.preventDefault()},onDecimal:function(a,b){var c=a.currentValue.indexOf(String.fromCharCode(b.decimal[0]["char"])),d=-1===c||c>=a.caretStart&&c<a.caretEnd;d&&(a.newValue=g["default"].editString(a.currentValue,String.fromCharCode(b.decimal[0]["char"]),a.caretStart,a.caretEnd),a.caretStart+=1),a.event.preventDefault()},onShortcut:function(a,b){var c=b.shortcuts[a["char"].toLowerCase()];if(c){var d=numeral(a.currentValue);a.newValue=(d.value()?d:numeral(1)).multiply(Math.pow(10,c)).format(),a.caretStart=a.newValue.length}a.event.preventDefault()},onBackspace:function(a){var b=void 0,c=void 0;a.caretStart===a.caretEnd?a.event.ctrlKey?(b="",c=a.currentValue.slice(a.caretStart,a.currentValue.length),a.caretStart=0):(b=a.currentValue.slice(0,a.caretStart-1),c=a.currentValue.slice(a.caretStart,a.currentValue.length),a.caretStart+=-1):(b=a.currentValue.slice(0,a.caretStart),c=a.currentValue.slice(a.caretEnd,a.currentValue.length)),a.newValue=b+c,a.event.preventDefault()},onDelete:function(a,b){var c=void 0,d=void 0;if(a.caretStart===a.caretEnd){var e=a.currentValue.charCodeAt(a.caretStart);a.event.ctrlKey?(c=a.currentValue.slice(0,a.caretStart),d=""):e===b.delimiter[0]["char"]?(a.caretStart+=1,c=a.currentValue,d=""):(c=a.currentValue.slice(0,a.caretStart),d=a.currentValue.slice(a.caretStart+1,a.currentValue.length))}else c=a.currentValue.slice(0,a.caretStart),d=a.currentValue.slice(a.caretEnd,a.currentValue.length);a.newValue=c+d,a.event.preventDefault()},onVerticalArrow:function(a,b){if(b&&!isNaN(b)){switch(a.code){case e.CODES.UP_ARROW.key:a.newValue=numeral(a.currentValue).add(b).format();break;case e.CODES.DOWN_ARROW.key:a.newValue=numeral(a.currentValue).subtract(b).format()}a.event.preventDefault()}},onUndo:function(a,b){a.element.value=a.history.undo(),a.element.setSelectionRange(a.element.value.length,a.element.value.length),b.preventDefault()},onRedo:function(a,b){a.element.value=a.history.redo(),a.element.setSelectionRange(a.element.value.length,a.element.value.length),b.preventDefault()}}},{"./constants":2,"./helpers":4}],6:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(c,"__esModule",{value:!0});var f=50,g=function(){function a(){d(this,a),this._history=[null],this._currentIndex=0}return e(a,[{key:"undo",value:function(){return this.currentIndex>0&&this.currentIndex--,this.currentValue}},{key:"redo",value:function(){return this.currentIndex<this.history.length-1&&this.currentIndex++,this.currentValue}},{key:"addValue",value:function(a){return a!==this.currentValue&&(this.history=this.history.slice(0,this.currentIndex+1),this.history.push(a),this.history.length>f&&this.history.shift()),this.currentIndex=this.history.length-1,this.currentValue}},{key:"history",get:function(){return this._history},set:function(a){this._history=a}},{key:"currentIndex",get:function(){return this._currentIndex},set:function(a){this._currentIndex=a}},{key:"currentValue",get:function(){return this.history[this.currentIndex]}}]),a}();c["default"]=g,b.exports=c["default"]},{}]},{},[3])(3)});