!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Finput=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){c=b.exports=function(a){if(a&&"object"==typeof a){var b=a.which||a.keyCode||a.charCode;b&&(a=b)}if("number"==typeof a)return g[a];var c=String(a),f=d[c.toLowerCase()];if(f)return f;var f=e[c.toLowerCase()];return f?f:1===c.length?c.charCodeAt(0):void 0};var d=c.code=c.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,command:91,"right click":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},e=c.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,"break":19,caps:20,"return":13,escape:27,spc:32,pgup:33,pgdn:33,ins:45,del:46,cmd:91};for(f=97;123>f;f++)d[String.fromCharCode(f)]=f-32;for(var f=48;58>f;f++)d[f-48]=f;for(f=1;13>f;f++)d["f"+f]=f+111;for(f=0;10>f;f++)d["numpad "+f]=f+96;var g=c.names=c.title={};for(f in d)g[d[f]]=f;for(var h in e)d[h]=e[h]},{}],2:[function(b,c,d){(function(){function b(a){this._value=a}function d(a,b,c,d){var e,f,g=Math.pow(10,b);return f=(c(a*g)/g).toFixed(b),d&&(e=new RegExp("0{1,"+d+"}$"),f=f.replace(e,"")),f}function e(a,b,c){var d;return d=b.indexOf("$")>-1?g(a,b,c):b.indexOf("%")>-1?h(a,b,c):b.indexOf(":")>-1?i(a,b):k(a._value,b,c)}function f(a,b){var c,d,e,f,g,h=b,i=["KB","MB","GB","TB","PB","EB","ZB","YB"],k=!1;if(b.indexOf(":")>-1)a._value=j(b);else if(b===s)a._value=0;else{for("."!==q[r].delimiters.decimal&&(b=b.replace(/\./g,"").replace(q[r].delimiters.decimal,".")),c=new RegExp("[^a-zA-Z]"+q[r].abbreviations.thousand+"(?:\\)|(\\"+q[r].currency.symbol+")?(?:\\))?)?$"),d=new RegExp("[^a-zA-Z]"+q[r].abbreviations.million+"(?:\\)|(\\"+q[r].currency.symbol+")?(?:\\))?)?$"),e=new RegExp("[^a-zA-Z]"+q[r].abbreviations.billion+"(?:\\)|(\\"+q[r].currency.symbol+")?(?:\\))?)?$"),f=new RegExp("[^a-zA-Z]"+q[r].abbreviations.trillion+"(?:\\)|(\\"+q[r].currency.symbol+")?(?:\\))?)?$"),g=0;g<=i.length&&!(k=b.indexOf(i[g])>-1?Math.pow(1024,g+1):!1);g++);a._value=(k?k:1)*(h.match(c)?Math.pow(10,3):1)*(h.match(d)?Math.pow(10,6):1)*(h.match(e)?Math.pow(10,9):1)*(h.match(f)?Math.pow(10,12):1)*(b.indexOf("%")>-1?.01:1)*((b.split("-").length+Math.min(b.split("(").length-1,b.split(")").length-1))%2?1:-1)*Number(b.replace(/[^0-9\.]+/g,"")),a._value=k?Math.ceil(a._value):a._value}return a._value}function g(a,b,c){var d,e,f=b.indexOf("$"),g=b.indexOf("("),h=b.indexOf("-"),i="";return b.indexOf(" $")>-1?(i=" ",b=b.replace(" $","")):b.indexOf("$ ")>-1?(i=" ",b=b.replace("$ ","")):b=b.replace("$",""),e=k(a._value,b,c),1>=f?e.indexOf("(")>-1||e.indexOf("-")>-1?(e=e.split(""),d=1,(g>f||h>f)&&(d=0),e.splice(d,0,q[r].currency.symbol+i),e=e.join("")):e=q[r].currency.symbol+i+e:e.indexOf(")")>-1?(e=e.split(""),e.splice(-1,0,i+q[r].currency.symbol),e=e.join("")):e=e+i+q[r].currency.symbol,e}function h(a,b,c){var d,e="",f=100*a._value;return b.indexOf(" %")>-1?(e=" ",b=b.replace(" %","")):b=b.replace("%",""),d=k(f,b,c),d.indexOf(")")>-1?(d=d.split(""),d.splice(-1,0,e+"%"),d=d.join("")):d=d+e+"%",d}function i(a){var b=Math.floor(a._value/60/60),c=Math.floor((a._value-60*b*60)/60),d=Math.round(a._value-60*b*60-60*c);return b+":"+(10>c?"0"+c:c)+":"+(10>d?"0"+d:d)}function j(a){var b=a.split(":"),c=0;return 3===b.length?(c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2])):2===b.length&&(c+=60*Number(b[0]),c+=Number(b[1])),Number(c)}function k(a,b,c){var e,f,g,h,i,j,k=!1,l=!1,m=!1,n="",o=!1,p=!1,t=!1,u=!1,v=!1,w="",x="",y=Math.abs(a),z=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],A="",B=!1;if(0===a&&null!==s)return s;if(b.indexOf("(")>-1?(k=!0,b=b.slice(1,-1)):b.indexOf("+")>-1&&(l=!0,b=b.replace(/\+/g,"")),b.indexOf("a")>-1&&(o=b.indexOf("aK")>=0,p=b.indexOf("aM")>=0,t=b.indexOf("aB")>=0,u=b.indexOf("aT")>=0,v=o||p||t||u,b.indexOf(" a")>-1?(n=" ",b=b.replace(" a","")):b=b.replace("a",""),y>=Math.pow(10,12)&&!v||u?(n+=q[r].abbreviations.trillion,a/=Math.pow(10,12)):y<Math.pow(10,12)&&y>=Math.pow(10,9)&&!v||t?(n+=q[r].abbreviations.billion,a/=Math.pow(10,9)):y<Math.pow(10,9)&&y>=Math.pow(10,6)&&!v||p?(n+=q[r].abbreviations.million,a/=Math.pow(10,6)):(y<Math.pow(10,6)&&y>=Math.pow(10,3)&&!v||o)&&(n+=q[r].abbreviations.thousand,a/=Math.pow(10,3))),b.indexOf("b")>-1)for(b.indexOf(" b")>-1?(w=" ",b=b.replace(" b","")):b=b.replace("b",""),g=0;g<=z.length;g++)if(e=Math.pow(1024,g),f=Math.pow(1024,g+1),a>=e&&f>a){w+=z[g],e>0&&(a/=e);break}return b.indexOf("o")>-1&&(b.indexOf(" o")>-1?(x=" ",b=b.replace(" o","")):b=b.replace("o",""),x+=q[r].ordinal(a)),b.indexOf("[.]")>-1&&(m=!0,b=b.replace("[.]",".")),h=a.toString().split(".")[0],i=b.split(".")[1],j=b.indexOf(","),i?(i.indexOf("[")>-1?(i=i.replace("]",""),i=i.split("["),A=d(a,i[0].length+i[1].length,c,i[1].length)):A=d(a,i.length,c),h=A.split(".")[0],A=A.split(".")[1].length?q[r].delimiters.decimal+A.split(".")[1]:"",m&&0===Number(A.slice(1))&&(A="")):h=d(a,null,c),h.indexOf("-")>-1&&(h=h.slice(1),B=!0),j>-1&&(h=h.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+q[r].delimiters.thousands)),0===b.indexOf(".")&&(h=""),(k&&B?"(":"")+(!k&&B?"-":"")+(!B&&l?"+":"")+h+A+(x?x:"")+(n?n:"")+(w?w:"")+(k&&B?")":"")}function l(a,b){q[a]=b}function m(a){var b=a.toString().split(".");return b.length<2?1:Math.pow(10,b[1].length)}function n(){var a=Array.prototype.slice.call(arguments);return a.reduce(function(a,b){var c=m(a),d=m(b);return c>d?c:d},-(1/0))}var o,p="1.5.3",q={},r="en",s=null,t="0,0",u="undefined"!=typeof c&&c.exports;o=function(a){return o.isNumeral(a)?a=a.value():0===a||"undefined"==typeof a?a=0:Number(a)||(a=o.fn.unformat(a)),new b(Number(a))},o.version=p,o.isNumeral=function(a){return a instanceof b},o.language=function(a,b){if(!a)return r;if(a&&!b){if(!q[a])throw new Error("Unknown language : "+a);r=a}return(b||!q[a])&&l(a,b),o},o.languageData=function(a){if(!a)return q[r];if(!q[a])throw new Error("Unknown language : "+a);return q[a]},o.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),o.zeroFormat=function(a){s="string"==typeof a?a:null},o.defaultFormat=function(a){t="string"==typeof a?a:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(a,b){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var c,d,e=this.length>>>0,f=!1;for(1<arguments.length&&(d=b,f=!0),c=0;e>c;++c)this.hasOwnProperty(c)&&(f?d=a(d,this[c],c,this):(d=this[c],f=!0));if(!f)throw new TypeError("Reduce of empty array with no initial value");return d}),o.fn=b.prototype={clone:function(){return o(this)},format:function(a,b){return e(this,a?a:t,void 0!==b?b:Math.round)},unformat:function(a){return"[object Number]"===Object.prototype.toString.call(a)?a:f(this,a?a:t)},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){return this._value=Number(a),this},add:function(a){function b(a,b,d,e){return a+c*b}var c=n.call(null,this._value,a);return this._value=[this._value,a].reduce(b,0)/c,this},subtract:function(a){function b(a,b,d,e){return a-c*b}var c=n.call(null,this._value,a);return this._value=[a].reduce(b,this._value*c)/c,this},multiply:function(a){function b(a,b,c,d){var e=n(a,b);return a*e*(b*e)/(e*e)}return this._value=[this._value,a].reduce(b,1),this},divide:function(a){function b(a,b,c,d){var e=n(a,b);return a*e/(b*e)}return this._value=[this._value,a].reduce(b),this},difference:function(a){return Math.abs(o(this._value).subtract(a).value())}},u&&(c.exports=o),"undefined"==typeof ender&&(this.numeral=o),"function"==typeof a&&a.amd&&a([],function(){return o})}).call(this)},{}],3:[function(a,b,c){"use strict";c.ACTION_TYPES={NUMBER:"NUMBER",SHORTCUT:"SHORTCUT",DECIMAL:"DECIMAL",DELIMITER:"DELIMITER",MINUS:"MINUS",UNKNOWN:"UNKNOWN",HORIZONTAL_ARROW:"HORIZONTAL_ARROW",VERTICAL_ARROW:"VERTICAL_ARROW",BACKSPACE:"BACKSPACE",DELETE:"DELETE",UNDO:"UNDO",REDO:"REDO",HOME:"HOME",END:"END"},c.DRAG_STATES={NONE:"NONE",INTERNAL:"INTERNAL",EXTERNAL:"EXTERNAL"}},{}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(c,"__esModule",{value:!0});var g=a("numeral"),h=d(g),i=a("keycode"),j=d(i),k=a("./keyHandlers"),l=d(k),m=a("./helpers"),n=d(m),o=a("./valueHistory"),p=d(o),q=a("./constants"),r={en:{shortcuts:{k:3,m:6,b:9},delimiter:",",decimal:"."}},s={format:"0,0.00",lang:"en",maxValue:1e13,minValue:-1e13,maxLength:15,valueStep:1},t=function(){function a(b,c){var d=this;e(this,a),this._element=b,this._options=Object.assign(s,c),this._languageData=r[this.options.lang],this._actionTypes=this.createActionTypes(),this._history=new p["default"],h["default"].defaultFormat(this.options.format),this.element.addEventListener("blur",function(a){return d.onFocusout(a)}),this.element.addEventListener("focus",function(a){return d.onFocusin(a)}),this.element.addEventListener("drop",function(a){return d.onDrop(a)}),this.element.addEventListener("paste",function(a){return d.onPaste(a)}),this.element.addEventListener("keydown",function(a){return d.onKeydown(a)}),this.element.addEventListener("keypress",function(a){return d.onKeypress(a)}),this.element.addEventListener("input",function(a){return d.onInput(a)}),document.addEventListener("dragstart",function(a){return d.onDragstart(a)}),document.addEventListener("dragend",function(a){return d.onDragend(a)})}return f(a,[{key:"createActionTypes",value:function(){return[{type:q.ACTION_TYPES.NUMBER,names:["0","1","2","3","4","5","6","7","8","9"]},{type:q.ACTION_TYPES.MINUS,names:["-"]},{type:q.ACTION_TYPES.HOME,names:["home"]},{type:q.ACTION_TYPES.END,names:["end"]},{type:q.ACTION_TYPES.DECIMAL,names:[this.languageData.decimal]},{type:q.ACTION_TYPES.DELIMITER,names:[this.languageData.delimiter]},{type:q.ACTION_TYPES.SHORTCUT,names:Object.keys(this.languageData.shortcuts)},{type:q.ACTION_TYPES.BACKSPACE,names:["backspace"]},{type:q.ACTION_TYPES.DELETE,names:["delete"]},{type:q.ACTION_TYPES.HORIZONTAL_ARROW,names:["left","right"]},{type:q.ACTION_TYPES.VERTICAL_ARROW,names:["up","down"]},{type:q.ACTION_TYPES.UNDO,names:["z"],ctrl:!0},{type:q.ACTION_TYPES.REDO,names:["y"],ctrl:!0}]}},{key:"getActionType",value:function(a,b){var c=!0,d=!1,e=void 0;try{for(var f,g=this.actionTypes[Symbol.iterator]();!(c=(f=g.next()).done);c=!0){var h=f.value,i=h.names.indexOf(a),j=i>-1;if(j&&(h.ctrl?b.ctrlKey:!0))return h.type}}catch(k){d=!0,e=k}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}return q.ACTION_TYPES.UNKNOWN}},{key:"checkValueMagnitude",value:function(a){var b=(0,h["default"])().unformat(a);return b?b<=this.options.maxValue&&b>=this.options.minValue:!0}},{key:"checkValueLength",value:function(a){var b=(0,h["default"])().unformat(a);return b?b.toString().length<=this.options.maxLength:!0}},{key:"checkValueSizing",value:function(a){return this.checkValueLength(a)&&this.checkValueMagnitude(a)}},{key:"setValue",value:function(a){var b=n["default"].fullFormat(a,this.options.format,this.options.currency),c=this.checkValueSizing(b),d=b&&c;return d&&(this.element.value=b,this.history.addValue(b)),d}},{key:"onFocusout",value:function(a){console.debug("Focus OUT event",a);this.setValue(this.element.value)}},{key:"onFocusin",value:function(a){console.debug("Focus IN event",a),this.element.selectionStart=0,this.element.selectionEnd=this.element.value.length}},{key:"onDrop",value:function(a){switch(console.debug("Drop event",a),this.dragState){case q.DRAG_STATES.INTERNAL:break;case q.DRAG_STATES.EXTERNAL:this.setValue(a.dataTransfer.getData("text"));a.preventDefault()}}},{key:"onDragstart",value:function(a){this.dragState=a.target===this.element?q.DRAG_STATES.INTERNAL:q.DRAG_STATES.EXTERNAL,console.debug("Drag STARTED",this.dragState,a)}},{key:"onDragend",value:function(a){console.debug("Drag ENDED",this.dragState,a),this.dragState=q.DRAG_STATES.NONE}},{key:"onPaste",value:function(a){console.debug("Paste event",a);var b=a.clipboardData.getData("text"),c=n["default"].editString(this.element.value,b,this.element.selectionStart,this.element.selectionEnd);this.setValue(c);a.preventDefault()}},{key:"onKeypress",value:function(a){console.debug("keypress",a)}},{key:"onKeydown",value:function(a){console.debug("keydown",a);var b={event:a,code:a.which||a.keyCode,keyName:(0,j["default"])(a).replace("numpad ",""),caretStart:this.element.selectionStart,caretEnd:this.element.selectionEnd,currentValue:this.element.value,newValue:this.element.value},c=this.getActionType(b.keyName,a);switch(c){case q.ACTION_TYPES.NUMBER:l["default"].onNumber(b);break;case q.ACTION_TYPES.DECIMAL:l["default"].onDecimal(b,this.languageData);break;case q.ACTION_TYPES.MINUS:l["default"].onMinus(b);break;case q.ACTION_TYPES.SHORTCUT:l["default"].onShortcut(b,this.languageData);break;case q.ACTION_TYPES.HORIZONTAL_ARROW:case q.ACTION_TYPES.HOME:case q.ACTION_TYPES.END:return void console.debug(c);case q.ACTION_TYPES.VERTICAL_ARROW:l["default"].onVerticalArrow(b,this.options.valueStep);break;case q.ACTION_TYPES.BACKSPACE:l["default"].onBackspace(b,this.options.delimiterDeleteStrategy,this.languageData.delimiter);break;case q.ACTION_TYPES.DELETE:l["default"].onDelete(b,this.options.delimiterDeleteStrategy,this.languageData.delimiter);break;case q.ACTION_TYPES.UNDO:return void l["default"].onUndo(this,a);case q.ACTION_TYPES.REDO:return void l["default"].onRedo(this,a);default:return console.debug("UNKNOWN"),void(a.ctrlKey||a.preventDefault())}var d=n["default"].partialFormat(b.newValue,this.options.currency,this.languageData),e=b.newValue,f=this.checkValueSizing(d);if(this.element.value=f?d:this.element.value,f){var g=n["default"].calculateOffset(e,this.element.value,b.caretStart,this.options.currency,this.languageData),h=b.caretStart+g;this.element.setSelectionRange(h,h),this.history.addValue(d)}}},{key:"onInput",value:function(a){console.debug("on INPUT",a);this.setValue(this.element.value)}},{key:"element",get:function(){return this._element}},{key:"options",get:function(){return this._options}},{key:"value",get:function(){return(0,h["default"])().unformat(this.element.value)}},{key:"formattedValue",get:function(){return(0,h["default"])(this.element.value).format()}},{key:"languageData",get:function(){return this._languageData}},{key:"actionTypes",get:function(){return this._actionTypes}},{key:"dragState",get:function(){return this._dragState},set:function(a){this._dragState=a}},{key:"history",get:function(){return this._history}}]),a}();c["default"]=t,b.exports=c["default"]},{"./constants":3,"./helpers":5,"./keyHandlers":6,"./valueHistory":7,keycode:1,numeral:2}],5:[function(a,b,c){"use strict";a("./constants");c.editString=function(a,b,c){var d=arguments.length<=3||void 0===arguments[3]?c:arguments[3],e=a.slice(0,c),f=a.slice(d,a.length);return""+e+b+f},c.fullFormat=function(a,b,c){var d=c?""+c+b:b;if(a){if(1===a.length)return a>=0&&9>=a?numeral(a).format(d):null;var e=numeral(a);return isNaN(e.value())||!Number.isFinite(e.value())?null:e.format(d)}return null},c.partialFormat=function(a,b,c){var d=a.replace(new RegExp("["+(b||"")+c.delimiter+"]","g"),""),e=d.indexOf(c.decimal)>-1?d.indexOf(c.decimal)-1:d.length-1,f="-"===d[0]?1:0,g=e,h=1;for(h;g>f;g--,h++)h%3===0&&(d=this.editString(d,",",g));return b&&d&&d.match(/\d/)?"-"===d[0]?d.replace("-","-"+b):""+b+d:d},c.calculateOffset=function(a,b,c,d,e){var f=void 0,g=0,h=0;for(f=0;c>f;f++)(a[f]===e.delimiter||d&&a[f]===d)&&g++;for(f=0;c>f;f++)(b[f]===e.delimiter||d&&b[f]===d)&&h++;return h-g}},{"./constants":3}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=(a("./constants"),a("./helpers")),f=d(e);b.exports={onNumber:function(a){var b=!("-"===a.currentValue[0]&&0===a.caretStart&&0===a.caretEnd);b&&(a.newValue=f["default"].editString(a.currentValue,a.keyName,a.caretStart,a.caretEnd),a.caretStart+=1),a.event.preventDefault()},onMinus:function(a){var b=0===a.caretStart&&("-"!==a.currentValue[0]||a.caretEnd>0);b&&(a.newValue=f["default"].editString(a.currentValue,"-",a.caretStart,a.caretEnd),a.caretStart+=1),a.event.preventDefault()},onDecimal:function(a,b){var c=a.currentValue.indexOf(b.decimal),d=-1===c||c>=a.caretStart&&c<a.caretEnd;d&&(a.newValue=f["default"].editString(a.currentValue,b.decimal,a.caretStart,a.caretEnd),a.caretStart+=1),a.event.preventDefault()},onShortcut:function(a,b){var c=b.shortcuts[a.keyName.toLowerCase()];if(c){var d=numeral(a.currentValue);a.newValue=(d.value()?d:numeral(1)).multiply(Math.pow(10,c)).format(),a.caretStart=a.newValue.length}a.event.preventDefault()},onBackspace:function(a,b,c){var d=void 0,e=void 0;if(a.caretStart===a.caretEnd)if(a.event.ctrlKey)d="",e=a.currentValue.slice(a.caretStart,a.currentValue.length),a.caretStart=0;else{var f=1;f=a.caretStart-f>=0?f:0,d=a.currentValue.slice(0,a.caretStart-f),e=a.currentValue.slice(a.caretStart,a.currentValue.length),a.caretStart+=-f}else d=a.currentValue.slice(0,a.caretStart),e=a.currentValue.slice(a.caretEnd,a.currentValue.length);a.newValue=d+e,a.event.preventDefault()},onDelete:function(a,b,c){var d=void 0,e=void 0;if(a.caretStart===a.caretEnd){var f=a.currentValue[a.caretStart];if(a.event.ctrlKey)d=a.currentValue.slice(0,a.caretStart),e="";else{var g=f===c;a.caretStart+=g?1:0;var h=a.caretStart+(g?0:1);d=a.currentValue.slice(0,a.caretStart),e=a.currentValue.slice(h,a.currentValue.length)}}else d=a.currentValue.slice(0,a.caretStart),e=a.currentValue.slice(a.caretEnd,a.currentValue.length);a.newValue=d+e,a.event.preventDefault()},onVerticalArrow:function(a,b){if(b&&!isNaN(b)){switch(a.keyName){case"up":a.newValue=numeral(a.currentValue).add(b).format();break;case"down":a.newValue=numeral(a.currentValue).subtract(b).format()}a.event.preventDefault()}},onUndo:function(a,b){a.element.value=a.history.undo(),a.element.setSelectionRange(a.element.value.length,a.element.value.length),b.preventDefault()},onRedo:function(a,b){a.element.value=a.history.redo(),a.element.setSelectionRange(a.element.value.length,a.element.value.length),b.preventDefault()}}},{"./constants":3,"./helpers":5}],7:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(c,"__esModule",{value:!0});var f=50,g=function(){function a(){d(this,a),this._history=[null],this._currentIndex=0}return e(a,[{key:"undo",value:function(){return this.currentIndex>0&&this.currentIndex--,this.currentValue}},{key:"redo",value:function(){return this.currentIndex<this.history.length-1&&this.currentIndex++,this.currentValue}},{key:"addValue",value:function(a){return a!==this.currentValue&&(this.history.splice(this.currentIndex+1,null,a),this.history.length>f&&this.history.shift()),this.currentIndex=this.history.length-1,this.currentValue}},{key:"history",get:function(){return this._history},set:function(a){this._history=a}},{key:"currentIndex",get:function(){return this._currentIndex},set:function(a){this._currentIndex=a}},{key:"currentValue",get:function(){return this.history[this.currentIndex]}}]),a}();c["default"]=g,b.exports=c["default"]},{}]},{},[4])(4)});